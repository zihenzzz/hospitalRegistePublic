<view class="container data-v-8940eab4"><view class="visitors-list data-v-8940eab4"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="visitor-item card data-v-8940eab4"><view class="visitor-info data-v-8940eab4"><view class="name-tag data-v-8940eab4"><text class="name data-v-8940eab4">{{item.$orig.name}}</text><block wx:if="{{item.$orig.isDefault}}"><text class="tag data-v-8940eab4">默认</text></block></view><view class="detail-row data-v-8940eab4"><text class="label data-v-8940eab4">性别：</text><text class="value data-v-8940eab4">{{item.$orig.gender==='1'?'男':'女'}}</text></view><view class="detail-row data-v-8940eab4"><text class="label data-v-8940eab4">手机号：</text><text class="value data-v-8940eab4">{{item.$orig.phone}}</text></view><view class="detail-row data-v-8940eab4"><text class="label data-v-8940eab4">身份证号：</text><text class="value data-v-8940eab4">{{item.m0}}</text></view></view><view class="visitor-actions data-v-8940eab4"><button class="btn-edit data-v-8940eab4" size="mini" data-event-opts="{{[['tap',[['editVisitor',['$0'],[[['visitorsList','',index]]]]]]]}}" bindtap="__e"><text class="icon data-v-8940eab4">✎</text></button><button class="btn-delete data-v-8940eab4" size="mini" data-event-opts="{{[['tap',[['deleteVisitor',['$0',index],[[['visitorsList','',index]]]]]]]}}" bindtap="__e"><text class="icon data-v-8940eab4">🗑</text></button></view></view></block></view><view class="add-visitor data-v-8940eab4"><button data-event-opts="{{[['tap',[['addVisitor',['$event']]]]]}}" class="btn-add data-v-8940eab4" bindtap="__e"><text class="icon data-v-8940eab4">+</text><text class="data-v-8940eab4">添加就诊人</text></button></view><block wx:if="{{$root.g0===0}}"><u-empty vue-id="9edb69c0-1" text="暂无就诊人" mode="list" class="data-v-8940eab4" bind:__l="__l" vue-slots="{{['bottom']}}"><button class="btn-add-empty data-v-8940eab4" slot="bottom" data-event-opts="{{[['tap',[['addVisitor',['$event']]]]]}}" bindtap="__e"> 添加就诊人 </button></u-empty></block><u-popup bind:input="__e" vue-id="9edb69c0-2" mode="center" border-radius="20" value="{{showDialog}}" data-event-opts="{{[['^input',[['__set_model',['','showDialog','$event',[]]]]]]}}" class="data-v-8940eab4" bind:__l="__l" vue-slots="{{['default']}}"><view class="dialog data-v-8940eab4"><view class="dialog-title data-v-8940eab4">{{dialogTitle}}</view><view class="dialog-content data-v-8940eab4"><view class="form-item data-v-8940eab4"><text class="form-label data-v-8940eab4">姓名</text><input class="form-input data-v-8940eab4" placeholder="请输入姓名" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['formData']]]]]}}" value="{{formData.name}}" bindinput="__e"/></view><view class="form-item data-v-8940eab4"><text class="form-label data-v-8940eab4">性别</text><radio-group data-event-opts="{{[['change',[['onGenderChange',['$event']]]]]}}" class="form-radio data-v-8940eab4" bindchange="__e"><label class="data-v-8940eab4"><radio value="1" checked="{{formData.gender==='1'}}" class="data-v-8940eab4"></radio>男 </label><label class="data-v-8940eab4"><radio value="2" checked="{{formData.gender==='2'}}" class="data-v-8940eab4"></radio>女 </label></radio-group></view><view class="form-item data-v-8940eab4"><text class="form-label data-v-8940eab4">手机号</text><input class="form-input data-v-8940eab4" type="number" maxlength="11" placeholder="请输入手机号" data-event-opts="{{[['input',[['__set_model',['$0','phone','$event',[]],['formData']]]]]}}" value="{{formData.phone}}" bindinput="__e"/></view><view class="form-item data-v-8940eab4"><text class="form-label data-v-8940eab4">身份证号</text><input class="form-input data-v-8940eab4" maxlength="18" placeholder="请输入身份证号" data-event-opts="{{[['input',[['__set_model',['$0','idCard','$event',[]],['formData']]]]]}}" value="{{formData.idCard}}" bindinput="__e"/></view><view class="form-item data-v-8940eab4"><label class="form-checkbox data-v-8940eab4"><checkbox checked="{{formData.isDefault}}" data-event-opts="{{[['change',[['onDefaultChange',['$event']]]]]}}" bindchange="__e" class="data-v-8940eab4"></checkbox><text class="data-v-8940eab4">设为默认就诊人</text></label></view></view><view class="dialog-footer data-v-8940eab4"><button data-event-opts="{{[['tap',[['closeDialog',['$event']]]]]}}" class="btn-dialog btn-cancel data-v-8940eab4" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['saveVisitor',['$event']]]]]}}" class="btn-dialog btn-confirm data-v-8940eab4" bindtap="__e">确定</button></view></view></u-popup></view>